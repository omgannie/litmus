require 'rails_helper'

describe "song validations" do

  it "should have a artist_name" do
    artist_name = "annimals as leaders"
    song = Song.create(artist_name: artist_name)
    expect(song.artist_name).to eq artist_name
  end

  it "should have a song_title" do
    song_title = "cafo"
    song = Song.create(song_title: song_title)
    expect(song.song_title).to eq song_title
  end

  it "is not valid without a artist_name" do
    song = Song.create
    expect(song).to_not be_valid
  end

  it "is not valid without a body" do
    song = Song.create
    song.artist_name = "animals as leaders"
    expect(song).to_not be_valid
  end
  # describe Song, 'association' do
  #   it { should have_many(:categorizations) }
  # end
end

describe "song model methods" do
  let(:song) {Song.new}
  it 'should return an optiones hash with valence data' do
    emotion = "Joy"
    expect(song.map_emotions(emotion)).to eq({min_valence: 0.7})
  end

  # it 'should return a spotify object' do
  #   genre_hash = {seed_genres: ["rock"]}
  #   primary_emotion = "Sadness"
  #   expect(song.get_recommendations(genre_hash, primary_emotion)).to eq({"tracks"=>[{"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/2M0IZTKgkN3ZpYluF4lKAM"}, "href"=>"https://api.spotify.com/v1/albums/2M0IZTKgkN3ZpYluF4lKAM", "id"=>"2M0IZTKgkN3ZpYluF4lKAM", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/ab6529723695dbe68cf3971628d10410e99cf8c3", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/b2414131dd7b810d819b60629a5eddc2e23cd138", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/c94668c47b15c63b5975c2c8189920c493913d0d", "width"=>64}], "name"=>"Radioactive", "type"=>"album", "uri"=>"spotify:album:2M0IZTKgkN3ZpYluF4lKAM"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/53XhwfbYqKCa1cC15pYq2q"}, "href"=>"https://api.spotify.com/v1/artists/53XhwfbYqKCa1cC15pYq2q", "id"=>"53XhwfbYqKCa1cC15pYq2q", "name"=>"Imagine Dragons", "type"=>"artist", "uri"=>"spotify:artist:53XhwfbYqKCa1cC15pYq2q"}, {"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2YZyLoL8N0Wb9xBt1NhZWg"}, "href"=>"https://api.spotify.com/v1/artists/2YZyLoL8N0Wb9xBt1NhZWg", "id"=>"2YZyLoL8N0Wb9xBt1NhZWg", "name"=>"Kendrick Lamar", "type"=>"artist", "uri"=>"spotify:artist:2YZyLoL8N0Wb9xBt1NhZWg"}], "available_markets"=>["CA", "MX", "US"], "disc_number"=>1, "duration_ms"=>276040, "explicit"=>true, "external_ids"=>{"isrc"=>"USUM71400693"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/69yfbpvmkIaB10msnKT7Q5"}, "href"=>"https://api.spotify.com/v1/tracks/69yfbpvmkIaB10msnKT7Q5", "id"=>"69yfbpvmkIaB10msnKT7Q5", "name"=>"Radioactive", "popularity"=>59, "preview_url"=>"https://p.scdn.co/mp3-preview/bdb16834340292992e50a2b2cfecaff000b730f8", "track_number"=>1, "type"=>"track", "uri"=>"spotify:track:69yfbpvmkIaB10msnKT7Q5"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/4Gfnly5CzMJQqkUFfoHaP3"}, "href"=>"https://api.spotify.com/v1/albums/4Gfnly5CzMJQqkUFfoHaP3", "id"=>"4Gfnly5CzMJQqkUFfoHaP3", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/c03090e1f4b09d79fd41855023460c02e13993a8", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/493ffc4cc35274f4dd911e9beb3fea74e6fca21d", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/83fba70a289eea805ec6243dbcd533eddf55e576", "width"=>64}], "name"=>"Meteora", "type"=>"album", "uri"=>"spotify:album:4Gfnly5CzMJQqkUFfoHaP3"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/6XyY86QOPPrYVGvF9ch6wz"}, "href"=>"https://api.spotify.com/v1/artists/6XyY86QOPPrYVGvF9ch6wz", "id"=>"6XyY86QOPPrYVGvF9ch6wz", "name"=>"Linkin Park", "type"=>"artist", "uri"=>"spotify:artist:6XyY86QOPPrYVGvF9ch6wz"}], "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "disc_number"=>1, "duration_ms"=>185586, "explicit"=>false, "external_ids"=>{"isrc"=>"USWB10300474"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/2nLtzopw4rPReszdYBJU6h"}, "href"=>"https://api.spotify.com/v1/tracks/2nLtzopw4rPReszdYBJU6h", "id"=>"2nLtzopw4rPReszdYBJU6h", "name"=>"Numb", "popularity"=>75, "preview_url"=>"https://p.scdn.co/mp3-preview/e6ccf7717f8a167bfea4afc1bf7da1a0cd707fbb", "track_number"=>13, "type"=>"track", "uri"=>"spotify:track:2nLtzopw4rPReszdYBJU6h"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/6X9k3hSsvQck2OfKYdBbXr"}, "href"=>"https://api.spotify.com/v1/albums/6X9k3hSsvQck2OfKYdBbXr", "id"=>"6X9k3hSsvQck2OfKYdBbXr", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/f6e02ce8bc9e91afa0e220703072c20bf72c72c5", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/f4111b2cd4d2459cfdf9aad9010d74c97b7e3a68", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/8ea6edc8b88d8777c931bff14f48d70503de674c", "width"=>64}], "name"=>"A Night At The Opera (Deluxe Remastered Version)", "type"=>"album", "uri"=>"spotify:album:6X9k3hSsvQck2OfKYdBbXr"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/1dfeR4HaWDbWqFHLkxsg1d"}, "href"=>"https://api.spotify.com/v1/artists/1dfeR4HaWDbWqFHLkxsg1d", "id"=>"1dfeR4HaWDbWqFHLkxsg1d", "name"=>"Queen", "type"=>"artist", "uri"=>"spotify:artist:1dfeR4HaWDbWqFHLkxsg1d"}], "available_markets"=>["CA", "US"], "disc_number"=>1, "duration_ms"=>354320, "explicit"=>false, "external_ids"=>{"isrc"=>"GBUM71029604"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/7tFiyTwD0nx5a1eklYtX2J"}, "href"=>"https://api.spotify.com/v1/tracks/7tFiyTwD0nx5a1eklYtX2J", "id"=>"7tFiyTwD0nx5a1eklYtX2J", "name"=>"Bohemian Rhapsody", "popularity"=>70, "preview_url"=>"https://p.scdn.co/mp3-preview/d5bc71c0bdc98b547a39aeba9538a7c6d33fc342", "track_number"=>11, "type"=>"track", "uri"=>"spotify:track:7tFiyTwD0nx5a1eklYtX2J"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/5CZR6ljD0x9fTiS4mh9wMp"}, "href"=>"https://api.spotify.com/v1/albums/5CZR6ljD0x9fTiS4mh9wMp", "id"=>"5CZR6ljD0x9fTiS4mh9wMp", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/8efb25315084d6a01748deb0af455fa154775bda", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/59ff6142022da17161182da92d3886587b2c26f0", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/cc3d842c527d67607a27f19363c25813ca78ff01", "width"=>64}], "name"=>"Only By The Night", "type"=>"album", "uri"=>"spotify:album:5CZR6ljD0x9fTiS4mh9wMp"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2qk9voo8llSGYcZ6xrBzKx"}, "href"=>"https://api.spotify.com/v1/artists/2qk9voo8llSGYcZ6xrBzKx", "id"=>"2qk9voo8llSGYcZ6xrBzKx", "name"=>"Kings of Leon", "type"=>"artist", "uri"=>"spotify:artist:2qk9voo8llSGYcZ6xrBzKx"}], "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "disc_number"=>1, "duration_ms"=>230760, "explicit"=>false, "external_ids"=>{"isrc"=>"USRC10800301"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/5VGlqQANWDKJFl0MBG3sg2"}, "href"=>"https://api.spotify.com/v1/tracks/5VGlqQANWDKJFl0MBG3sg2", "id"=>"5VGlqQANWDKJFl0MBG3sg2", "name"=>"Use Somebody", "popularity"=>72, "preview_url"=>"https://p.scdn.co/mp3-preview/c1f5819057f7528777163bf7d75bf8609553c5be", "track_number"=>4, "type"=>"track", "uri"=>"spotify:track:5VGlqQANWDKJFl0MBG3sg2"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/3wwRx7Tjr2BXD9Z4yGliie"}, "href"=>"https://api.spotify.com/v1/albums/3wwRx7Tjr2BXD9Z4yGliie", "id"=>"3wwRx7Tjr2BXD9Z4yGliie", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/55ec2ccc5efbc3e9131900f7ec0073cf92b270f9", "width"=>631}, {"height"=>300, "url"=>"https://i.scdn.co/image/d53e49696597fdb11976b03cb97b8007a065c2bf", "width"=>296}, {"height"=>64, "url"=>"https://i.scdn.co/image/08d931758e886a2e77e1316f9e8bfa3360249506", "width"=>63}], "name"=>"The Reason", "type"=>"album", "uri"=>"spotify:album:3wwRx7Tjr2BXD9Z4yGliie"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2MqhkhX4npxDZ62ObR5ELO"}, "href"=>"https://api.spotify.com/v1/artists/2MqhkhX4npxDZ62ObR5ELO", "id"=>"2MqhkhX4npxDZ62ObR5ELO", "name"=>"Hoobastank", "type"=>"artist", "uri"=>"spotify:artist:2MqhkhX4npxDZ62ObR5ELO"}], "available_markets"=>["CA", "US"], "disc_number"=>1, "duration_ms"=>232800, "explicit"=>false, "external_ids"=>{"isrc"=>"USIR20300704"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/4x3SQvTgvqSTU3nOL1urZh"}, "href"=>"https://api.spotify.com/v1/tracks/4x3SQvTgvqSTU3nOL1urZh", "id"=>"4x3SQvTgvqSTU3nOL1urZh", "name"=>"The Reason", "popularity"=>62, "preview_url"=>"https://p.scdn.co/mp3-preview/01acb992765814da4cbcd7080b7933aedd723b26", "track_number"=>8, "type"=>"track", "uri"=>"spotify:track:4x3SQvTgvqSTU3nOL1urZh"}], "seeds"=>[{"initialPoolSize"=>22, "afterFilteringSize"=>22, "afterRelinkingSize"=>22, "id"=>"rock", "type"=>"GENRE", "href"=>nil}]})
  # end

  # it "should parse through the giant spotify hash and return an artist and track hash" do
  #   rec = {"tracks"=>[{"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/2M0IZTKgkN3ZpYluF4lKAM"}, "href"=>"https://api.spotify.com/v1/albums/2M0IZTKgkN3ZpYluF4lKAM", "id"=>"2M0IZTKgkN3ZpYluF4lKAM", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/ab6529723695dbe68cf3971628d10410e99cf8c3", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/b2414131dd7b810d819b60629a5eddc2e23cd138", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/c94668c47b15c63b5975c2c8189920c493913d0d", "width"=>64}], "name"=>"Radioactive", "type"=>"album", "uri"=>"spotify:album:2M0IZTKgkN3ZpYluF4lKAM"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/53XhwfbYqKCa1cC15pYq2q"}, "href"=>"https://api.spotify.com/v1/artists/53XhwfbYqKCa1cC15pYq2q", "id"=>"53XhwfbYqKCa1cC15pYq2q", "name"=>"Imagine Dragons", "type"=>"artist", "uri"=>"spotify:artist:53XhwfbYqKCa1cC15pYq2q"}, {"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2YZyLoL8N0Wb9xBt1NhZWg"}, "href"=>"https://api.spotify.com/v1/artists/2YZyLoL8N0Wb9xBt1NhZWg", "id"=>"2YZyLoL8N0Wb9xBt1NhZWg", "name"=>"Kendrick Lamar", "type"=>"artist", "uri"=>"spotify:artist:2YZyLoL8N0Wb9xBt1NhZWg"}], "available_markets"=>["CA", "MX", "US"], "disc_number"=>1, "duration_ms"=>276040, "explicit"=>true, "external_ids"=>{"isrc"=>"USUM71400693"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/69yfbpvmkIaB10msnKT7Q5"}, "href"=>"https://api.spotify.com/v1/tracks/69yfbpvmkIaB10msnKT7Q5", "id"=>"69yfbpvmkIaB10msnKT7Q5", "name"=>"Radioactive", "popularity"=>59, "preview_url"=>"https://p.scdn.co/mp3-preview/bdb16834340292992e50a2b2cfecaff000b730f8", "track_number"=>1, "type"=>"track", "uri"=>"spotify:track:69yfbpvmkIaB10msnKT7Q5"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/4Gfnly5CzMJQqkUFfoHaP3"}, "href"=>"https://api.spotify.com/v1/albums/4Gfnly5CzMJQqkUFfoHaP3", "id"=>"4Gfnly5CzMJQqkUFfoHaP3", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/c03090e1f4b09d79fd41855023460c02e13993a8", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/493ffc4cc35274f4dd911e9beb3fea74e6fca21d", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/83fba70a289eea805ec6243dbcd533eddf55e576", "width"=>64}], "name"=>"Meteora", "type"=>"album", "uri"=>"spotify:album:4Gfnly5CzMJQqkUFfoHaP3"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/6XyY86QOPPrYVGvF9ch6wz"}, "href"=>"https://api.spotify.com/v1/artists/6XyY86QOPPrYVGvF9ch6wz", "id"=>"6XyY86QOPPrYVGvF9ch6wz", "name"=>"Linkin Park", "type"=>"artist", "uri"=>"spotify:artist:6XyY86QOPPrYVGvF9ch6wz"}], "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "disc_number"=>1, "duration_ms"=>185586, "explicit"=>false, "external_ids"=>{"isrc"=>"USWB10300474"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/2nLtzopw4rPReszdYBJU6h"}, "href"=>"https://api.spotify.com/v1/tracks/2nLtzopw4rPReszdYBJU6h", "id"=>"2nLtzopw4rPReszdYBJU6h", "name"=>"Numb", "popularity"=>75, "preview_url"=>"https://p.scdn.co/mp3-preview/e6ccf7717f8a167bfea4afc1bf7da1a0cd707fbb", "track_number"=>13, "type"=>"track", "uri"=>"spotify:track:2nLtzopw4rPReszdYBJU6h"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/6X9k3hSsvQck2OfKYdBbXr"}, "href"=>"https://api.spotify.com/v1/albums/6X9k3hSsvQck2OfKYdBbXr", "id"=>"6X9k3hSsvQck2OfKYdBbXr", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/f6e02ce8bc9e91afa0e220703072c20bf72c72c5", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/f4111b2cd4d2459cfdf9aad9010d74c97b7e3a68", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/8ea6edc8b88d8777c931bff14f48d70503de674c", "width"=>64}], "name"=>"A Night At The Opera (Deluxe Remastered Version)", "type"=>"album", "uri"=>"spotify:album:6X9k3hSsvQck2OfKYdBbXr"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/1dfeR4HaWDbWqFHLkxsg1d"}, "href"=>"https://api.spotify.com/v1/artists/1dfeR4HaWDbWqFHLkxsg1d", "id"=>"1dfeR4HaWDbWqFHLkxsg1d", "name"=>"Queen", "type"=>"artist", "uri"=>"spotify:artist:1dfeR4HaWDbWqFHLkxsg1d"}], "available_markets"=>["CA", "US"], "disc_number"=>1, "duration_ms"=>354320, "explicit"=>false, "external_ids"=>{"isrc"=>"GBUM71029604"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/7tFiyTwD0nx5a1eklYtX2J"}, "href"=>"https://api.spotify.com/v1/tracks/7tFiyTwD0nx5a1eklYtX2J", "id"=>"7tFiyTwD0nx5a1eklYtX2J", "name"=>"Bohemian Rhapsody", "popularity"=>70, "preview_url"=>"https://p.scdn.co/mp3-preview/d5bc71c0bdc98b547a39aeba9538a7c6d33fc342", "track_number"=>11, "type"=>"track", "uri"=>"spotify:track:7tFiyTwD0nx5a1eklYtX2J"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/5CZR6ljD0x9fTiS4mh9wMp"}, "href"=>"https://api.spotify.com/v1/albums/5CZR6ljD0x9fTiS4mh9wMp", "id"=>"5CZR6ljD0x9fTiS4mh9wMp", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/8efb25315084d6a01748deb0af455fa154775bda", "width"=>640}, {"height"=>300, "url"=>"https://i.scdn.co/image/59ff6142022da17161182da92d3886587b2c26f0", "width"=>300}, {"height"=>64, "url"=>"https://i.scdn.co/image/cc3d842c527d67607a27f19363c25813ca78ff01", "width"=>64}], "name"=>"Only By The Night", "type"=>"album", "uri"=>"spotify:album:5CZR6ljD0x9fTiS4mh9wMp"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2qk9voo8llSGYcZ6xrBzKx"}, "href"=>"https://api.spotify.com/v1/artists/2qk9voo8llSGYcZ6xrBzKx", "id"=>"2qk9voo8llSGYcZ6xrBzKx", "name"=>"Kings of Leon", "type"=>"artist", "uri"=>"spotify:artist:2qk9voo8llSGYcZ6xrBzKx"}], "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "disc_number"=>1, "duration_ms"=>230760, "explicit"=>false, "external_ids"=>{"isrc"=>"USRC10800301"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/5VGlqQANWDKJFl0MBG3sg2"}, "href"=>"https://api.spotify.com/v1/tracks/5VGlqQANWDKJFl0MBG3sg2", "id"=>"5VGlqQANWDKJFl0MBG3sg2", "name"=>"Use Somebody", "popularity"=>72, "preview_url"=>"https://p.scdn.co/mp3-preview/c1f5819057f7528777163bf7d75bf8609553c5be", "track_number"=>4, "type"=>"track", "uri"=>"spotify:track:5VGlqQANWDKJFl0MBG3sg2"}, {"album"=>{"album_type"=>"ALBUM", "available_markets"=>["AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "RO", "SE", "SG", "SI", "SK", "SV", "TR", "TW", "US", "UY"], "external_urls"=>{"spotify"=>"https://open.spotify.com/album/3wwRx7Tjr2BXD9Z4yGliie"}, "href"=>"https://api.spotify.com/v1/albums/3wwRx7Tjr2BXD9Z4yGliie", "id"=>"3wwRx7Tjr2BXD9Z4yGliie", "images"=>[{"height"=>640, "url"=>"https://i.scdn.co/image/55ec2ccc5efbc3e9131900f7ec0073cf92b270f9", "width"=>631}, {"height"=>300, "url"=>"https://i.scdn.co/image/d53e49696597fdb11976b03cb97b8007a065c2bf", "width"=>296}, {"height"=>64, "url"=>"https://i.scdn.co/image/08d931758e886a2e77e1316f9e8bfa3360249506", "width"=>63}], "name"=>"The Reason", "type"=>"album", "uri"=>"spotify:album:3wwRx7Tjr2BXD9Z4yGliie"}, "artists"=>[{"external_urls"=>{"spotify"=>"https://open.spotify.com/artist/2MqhkhX4npxDZ62ObR5ELO"}, "href"=>"https://api.spotify.com/v1/artists/2MqhkhX4npxDZ62ObR5ELO", "id"=>"2MqhkhX4npxDZ62ObR5ELO", "name"=>"Hoobastank", "type"=>"artist", "uri"=>"spotify:artist:2MqhkhX4npxDZ62ObR5ELO"}], "available_markets"=>["CA", "US"], "disc_number"=>1, "duration_ms"=>232800, "explicit"=>false, "external_ids"=>{"isrc"=>"USIR20300704"}, "external_urls"=>{"spotify"=>"https://open.spotify.com/track/4x3SQvTgvqSTU3nOL1urZh"}, "href"=>"https://api.spotify.com/v1/tracks/4x3SQvTgvqSTU3nOL1urZh", "id"=>"4x3SQvTgvqSTU3nOL1urZh", "name"=>"The Reason", "popularity"=>62, "preview_url"=>"https://p.scdn.co/mp3-preview/01acb992765814da4cbcd7080b7933aedd723b26", "track_number"=>8, "type"=>"track", "uri"=>"spotify:track:4x3SQvTgvqSTU3nOL1urZh"}], "seeds"=>[{"initialPoolSize"=>22, "afterFilteringSize"=>22, "afterRelinkingSize"=>22, "id"=>"rock", "type"=>"GENRE", "href"=>nil}]}

  #   expect(song.parse_recommendations(rec)).to eq([{"artist"=>"Imagine Dragons", "track"=>"Radioactive"}, {"artist"=>"Linkin Park", "track"=>"Numb"}, {"artist"=>"Queen", "track"=>"Bohemian Rhapsody"}, {"artist"=>"Kings of Leon", "track"=>"Use Somebody"}, {"artist"=>"Hoobastank", "track"=>"The Reason"}])
  # end

end
